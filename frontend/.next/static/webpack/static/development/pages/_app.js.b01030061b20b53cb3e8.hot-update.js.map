{"version":3,"file":"static/webpack/static/development/pages/_app.js.b01030061b20b53cb3e8.hot-update.js","sources":["webpack:///./components/Search.js"],"sourcesContent":["import React from 'react';\nimport Downshift from 'downshift';\nimport Router from 'next/router';\nimport debounce from 'lodash.debounce';\nimport { ApolloConsumer } from 'react-apollo';\nimport { DropDown, DropDownItem, SearchStyles } from './styles/DropDown';\nimport { SEARCH_ITEMS_QUERY } from \"../queries/queries\";\n\n\nclass AutoComplete extends React.Component {\n\tstate = {\n\t\titems: [],\n\t\tloading: false,\n\t};\n\n\t/**\n\t * Handles event changes (debounced by 350ms)\n\t * @param e - event (keyboard input)\n\t * @param client - Apollo client\n\t */\n\tonChange = debounce(async (e, client) => {\n\t\tthis.setState({ loading: true });\n\t\t// manually query Apollo client\n\t\tconst response = await client.query({\n\t\t\tquery: SEARCH_ITEMS_QUERY,\n\t\t\tvariables: {\n\t\t\t\tsearchTerm: e.target.value,\n\t\t\t}\n\t\t});\n\t\tthis.setState({\n\t\t\titems: response.data.items,\n\t\t\tloading: false\n\t\t});\n\t}, 350);\n\n\trender() {\n\t\treturn (\n\t\t\t<SearchStyles>\n\t\t\t\t<div>\n\t\t\t\t\t<ApolloConsumer>\n\t\t\t\t\t\t{(client) => (\n\t\t\t\t\t\t\t<input type=\"search\" onChange={(e) => {\n\t\t\t\t\t\t\t\te.persist();\n\t\t\t\t\t\t\t\t// Apollo consumer exposes client and when someone types we can pass e to sep function\n\t\t\t\t\t\t\t\tthis.onChange(e, client);\n\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ApolloConsumer>\n\t\t\t\t\t<DropDown>\n\t\t\t\t\t\t{this.state.items.map(item => (\n\t\t\t\t\t\t\t\t<DropDownItem key={item.id}>\n\t\t\t\t\t\t\t\t\t<img width=\"50\" src={item.image} alt={item.title}/>\n\t\t\t\t\t\t\t\t\t{item.title}\n\t\t\t\t\t\t\t\t</DropDownItem>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t</DropDown>\n\t\t\t\t</div>\n\t\t\t</SearchStyles>\n\t\t)\n\t}\n}\n\nexport default AutoComplete;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAFA;AACA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAHA;AAAA;AAIA;AACA;AACA;AADA;AAFA;AACA;AAJA;AAGA;AACA;AAKA;AACA;AACA;AAFA;AACA;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;;;;;;AAcA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAWA;;;;AAnDA;AACA;AAqDA;;;;A","sourceRoot":""}